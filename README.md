# Telega Radio Broadcasting Application

The original implementation is taken from [AsmSafone/RadioPlayerV3](https://github.com/AsmSafone/RadioPlayerV3)

## Special Features

- Radio broadcasting to Telegram channels by stream URL or local playlist (from files)
- Bot interface for playlist managment

## Initialize Telegram session with Pyrogram

Pyrogram session initialization required for streaming to Telegram channels feature, that allowed only for userbot (Telegram user account).
Run script `pyrogram_session_gen.py` and follow instructions.


## Deploy 

You can deploy application in VDS/VPS or local machine by using Docker.
First create `.env` file in source root based on `.env.sample` file.
Then run this script from project source root.

```sh
$ pip3 install -r requirements.txt
$
$
```

## Config Vars:
1. `API_ID` : Get it from https://my.telegram.org/apps
2. `API_HASH` : Get it from https://my.telegram.org/apps
3. `BOT_TOKEN` : Get it from [@Botfather](https://t.me/botfather)
4. `SESSION_NAME` : Name of session generated by `pyrogram_session_gen.py`
5. `CHAT_ID` : ID of Channel/Group to play radio.
6. `CHAT_NAME` : Name (started with @) of Channel/Group to play radio.
7. `AUTH_USERS` : ID of Auth Users who can use Admin commands. (for multiple users seperated by space)
8. `STREAM_URL` : Stream URL of radio station.

## Requirements

- Python 3.11 or higher.
- [Telegram API Key](https://docs.pyrogram.org/intro/quickstart#enjoy-the-api)
- [FFmpeg Python](https://www.ffmpeg.org/)
- Telegram [Pyrogram Session](http://t.me/genStr_robot) of the account.
- User Accounts Needs To Be An Admin In The Channel or Group.
- Must Start A Voice Chat In Channel/Group Before Running The Bot.

## Run On VPS

```sh
$ git clone https://github.com/AsmSafone/RadioPlayerV3
$ cd RadioPlayerV3
$ sudo apt install git curl python3-pip ffmpeg -y
$ pip3 install -U pip
$ pip3 install -r requirements.txt
# <create .env variables appropriately>
$ python3 main.py
```


## Credits

- [AsmSafone](https://github.com/AsmSafone) for [Base implementation](https://github.com/AsmSafone/RadioPlayerV3)
- [Dan](https://github.com/delivrance) for [Pyrogram](https://github.com/pyrogram/pyrogram)
- [MarshalX](https://github.com/MarshalX) for [pytgcalls](https://github.com/MarshalX/tgcalls)

